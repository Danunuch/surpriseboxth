'use strict';
var components = window.components = {};

components.fontFamily = {
    selector: 'html',
    styles: ['https://fonts.googleapis.com/css2?family=Prompt:wght@200;300;400;500;600;700;800;900&display=swap','https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp']
};



components.body = {
    selector: 'body',
    script: ['./js/bootstrap.bundle.min.js','./js/jarallax.min.js','./js/functions.js']
};




components.icofont = {
    selector: '[class*="icofont-"]',
    styles: './css/icofont.css'};



components.fontello_icons = {
    selector: '.demo-icon',
    styles: './css/fontello.css'
};


components.header = {
    selector: 'header',
    styles: './css/header.css'
};





components.nav = {
    selector: 'nav',
    styles: ['./css/coreNavigation.css', './css/typography.css', './css/custom.css'],
    script:  './js/coreNavigation.js',
    init: function init(nodes) {
        $('nav').coreNavigation({
            menuPosition: "right",
            container: true,
           
            mode: 'sticky',
            onStartSticky: function () {
                console.log('Start Sticky');
            },
            onEndSticky: function () {
                console.log('End Sticky');
            },
            ddropdownEvent: 'hover',
            onOpenDropdown: function(){
                console.log('open');
            },
            onCloseDropdown: function(){
                console.log('close');
            }
        });
        
    }
};









components.banner_index = {
    selector: '.banner_index',
    styles: ['./css/slick.min.css','./css/slick-custom.css'],
    script:  './js/slick.min.js',
    init: function init(nodes) {
        $('.banner_index').slick({
          slidesToShow: 1,
          slidesToScroll: 1,
          arrows: true,
          dots: true,
          autoplay: true,
          // fade: true,
          autoplaySpeed: 3000,
      });
    }
};









components.intro_section = {
    selector: '#intro-section',
    styles: './css/intro.css'
};




components.app_section = {
    selector: '#app-section',
    styles: './css/app.css'
};







components.footer = {
    selector: 'footer',
    styles: './css/footer.css',
    
    init: function init(nodes) {
        if ($('#back-to-top').length) {
            var scrollTrigger = 100, // px
            backToTop = function () {
                var scrollTop = $(window).scrollTop();
                if (scrollTop > scrollTrigger) {
                    $('#back-to-top').addClass('show');
                } else {
                    $('#back-to-top').removeClass('show');
                }
            };
            backToTop();
            $(window).on('scroll', function () {
                backToTop();
            });
            // $('#back-to-top').on('click', function (e) {
            //     e.preventDefault();
            //     $('html,body').animate({
            //         scrollTop: 0
            //     }, 2800);
            // });
        }
    }
};






function parseJSON(str) {
    try {
        if (str) return JSON.parse(str);
        else return {}
    } catch (error) {
        console.warn(error);
        return {}
    }
}

function detectIE() {
    var ua = window.navigator.userAgent,
    msie = ua.indexOf('MSIE '),
    trident = ua.indexOf('Trident/'),
    edge = ua.indexOf('Edge/');
    if (msie > 0) {
        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10)
    }
    if (trident > 0) {
        var rv = ua.indexOf('rv:');
        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10)
    }
    if (edge > 0) {
        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10)
    }
    return false
}
window.addEventListener('load', function () {
    new ZemezCore({
        components: components,
        onError: function onError(error) {
            setTimeout(function () {
                if (detectIE() < 12) {
                    var script = document.createElement('script');
                    script.src = './components/base/support.js';
                    document.querySelector('head').appendChild(script)
                }
                throw new Error(error)
            }, 1000)
        }
    })
});